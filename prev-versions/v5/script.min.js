function generateDynamicFilters(){const e=document.querySelectorAll("#projects-grid .project-card-link .project-card"),t=new Map,c=new Map,s={completed:0,"in-progress":0,planned:0};let o=e.length;e.forEach(e=>{const o=e.dataset.status;void 0!==s[o]&&s[o]++;const a=e.dataset.area;a&&c.set(a,(c.get(a)||0)+1);const r=e.dataset.tech;r&&r.split(",").map(e=>e.trim()).forEach(e=>{e&&t.set(e,(t.get(e)||0)+1)})}),buildStatusFilters(s,o),buildAreaFilters(c),buildTechFilters(t),attachFilterEventListeners()}function buildStatusFilters(e,t){const c=document.getElementById("status-filter-options");if(!c)return;c.innerHTML="";const s=createFilterOption("status","all","All",t,!0);c.appendChild(s);const o={completed:"Completed","in-progress":"In Progress",planned:"Planned"};Object.entries(e).forEach(([e,t])=>{if(t>0){const s=createFilterOption("status",e,o[e],t,!1);c.appendChild(s)}})}function buildAreaFilters(e){const t=document.getElementById("area-filter-options");t&&(t.innerHTML="",Array.from(e.entries()).sort((e,t)=>e[0].localeCompare(t[0])).forEach(([e,c])=>{const s=createFilterOption("area",e,e,c,!1);t.appendChild(s)}))}function buildTechFilters(e){const t=document.getElementById("tech-filter-options");t&&(t.innerHTML="",Array.from(e.entries()).sort((e,t)=>e[0].localeCompare(t[0])).forEach(([e,c])=>{const s=createFilterOption("tech",e,e,c,!1);t.appendChild(s)}))}function createFilterOption(e,t,c,s,o){const a=document.createElement("div");a.className="filter-option",a.dataset.filter=e,a.dataset.value=t;const r=document.createElement("div");r.className=o?"filter-checkbox checked":"filter-checkbox";const i=document.createElement("span");i.textContent=c;const n=document.createElement("span");return n.className="filter-count",n.textContent=s,a.appendChild(r),a.appendChild(i),a.appendChild(n),a}function attachFilterEventListeners(){document.querySelectorAll(".filter-option").forEach(e=>{e.addEventListener("click",handleFilterClick)})}function regenerateFiltersWithSelections(){const e={status:[...activeFilters.status],tech:[...activeFilters.tech]};generateDynamicFilters(),activeFilters.status=e.status,activeFilters.tech=e.tech,restoreFilterSelections()}function restoreFilterSelections(){document.querySelectorAll(".filter-checkbox").forEach(e=>{e.classList.remove("checked")}),activeFilters.status.forEach(e=>{const t=document.querySelector(`[data-filter="status"][data-value="${e}"] .filter-checkbox`);t&&t.classList.add("checked")}),activeFilters.area.forEach(e=>{const t=document.querySelector(`[data-filter="area"][data-value="${e}"] .filter-checkbox`);t&&t.classList.add("checked")}),activeFilters.tech.forEach(e=>{const t=document.querySelector(`[data-filter="tech"][data-value="${e}"] .filter-checkbox`);t&&t.classList.add("checked")})}let activeFilters={status:["all"],area:[],tech:[],sort:"default"};function populateProjectsPreview(){const e=document.getElementById("projects-preview-grid"),t=document.getElementById("projects-grid");if(!e||!t)return;e.innerHTML="";const c=t.querySelectorAll(".project-card"),s=Math.min(6,c.length);for(let t=0;t<s;t++){const s=c[t].cloneNode(!0);"A"===s.tagName&&(s.removeAttribute("href"),s.style.cursor="pointer",s.addEventListener("click",function(e){e.preventDefault(),showSection("projects")})),e.appendChild(s)}}function handleFilterClick(e){const t=e.currentTarget,c=t.dataset.filter,s=t.dataset.value,o=t.querySelector(".filter-checkbox");"status"===c?(document.querySelectorAll('[data-filter="status"] .filter-checkbox').forEach(e=>{e.classList.remove("checked")}),activeFilters.status=[],o.classList.add("checked"),activeFilters.status=[s]):"area"===c?o.classList.contains("checked")?(o.classList.remove("checked"),activeFilters.area=activeFilters.area.filter(e=>e!==s)):(o.classList.add("checked"),activeFilters.area.push(s)):"tech"===c&&(o.classList.contains("checked")?(o.classList.remove("checked"),activeFilters.tech=activeFilters.tech.filter(e=>e!==s)):(o.classList.add("checked"),activeFilters.tech.push(s))),filterProjects()}function handleSortChange(e){const t=e.value;activeFilters.sort=t,filterProjects()}function clearAllFilters(){document.querySelectorAll(".filter-checkbox").forEach(e=>{e.classList.remove("checked")});const e=document.querySelector('[data-filter="status"][data-value="all"] .filter-checkbox');e&&e.classList.add("checked"),document.getElementById("sort-select").value="default",activeFilters={status:["all"],area:[],tech:[],sort:"default"},filterProjects()}function showSection(e){const t=document.getElementById("loader");document.body.classList.add("loading"),t.classList.remove("hidden"),setTimeout(()=>{document.querySelectorAll(".section").forEach(e=>{e.classList.remove("active")}),"home"!==e&&(hideProjectsPreview(),window.removeEventListener("scroll",handleScrollForPreview)),setTimeout(()=>{const c=document.getElementById(e);if(c&&c.classList.add("active"),"projects"===e){const t=parseFiltersFromURL();JSON.stringify(t)!==JSON.stringify(activeFilters)&&(activeFilters=t,applyFiltersFromState()),updateURL(e,!0)}else updateURL(e);"home"===e&&(setTimeout(triggerHeroAnimations,100),window.addEventListener("scroll",handleScrollForPreview)),updateNavState(e),closeMobileMenu(),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.classList.add("hidden"),document.body.classList.remove("loading")},200)},100)},500)}function applyFiltersFromState(){document.getElementById("sort-select").value=activeFilters.sort,document.querySelectorAll(".filter-checkbox").forEach(e=>{e.classList.remove("checked")}),activeFilters.status.forEach(e=>{const t=document.querySelector(`[data-filter="status"][data-value="${e}"] .filter-checkbox`);t&&t.classList.add("checked")}),activeFilters.area.forEach(e=>{const t=document.querySelector(`[data-filter="area"][data-value="${e}"] .filter-checkbox`);t&&t.classList.add("checked")}),activeFilters.tech.forEach(e=>{const t=document.querySelector(`[data-filter="tech"][data-value="${e}"] .filter-checkbox`);t&&t.classList.add("checked")}),filterProjects()}function updateURL(e,t=!1){let c=window.location.pathname;if("projects"===e&&t){const e=serializeFiltersToURL();e&&(c+=`?${e}`)}"home"!==e&&(c+=`#${e}`),window.history.pushState(null,null,c)}function triggerHeroAnimations(){const e=document.querySelector(".hero-title-wrapper");e&&(e.classList.remove("animate"),e.offsetWidth,setTimeout(()=>{e.classList.add("animate")},50))}function showProjectsPreview(){const e=document.querySelector(".projects-preview-section");e&&e.classList.add("visible")}function hideProjectsPreview(){const e=document.querySelector(".projects-preview-section");e&&e.classList.remove("visible")}function handleScrollForPreview(){document.getElementById("home").classList.contains("active")&&window.scrollY>.3*window.innerHeight&&(showProjectsPreview(),window.removeEventListener("scroll",handleScrollForPreview))}function updateNavState(e){document.querySelectorAll(".nav-links a, .mobile-nav-links a").forEach(t=>{t.dataset.section===e?t.classList.add("active"):t.classList.remove("active")})}function toggleMobileMenu(){const e=document.getElementById("mobile-menu-btn"),t=document.getElementById("mobile-nav");e.classList.toggle("active"),t.classList.toggle("active")}function closeMobileMenu(){const e=document.getElementById("mobile-menu-btn"),t=document.getElementById("mobile-nav");e.classList.remove("active"),t.classList.remove("active")}function filterProjects(){const e=document.querySelectorAll("#projects-grid .project-card-link");let t=0;sortProjects(activeFilters.sort),e.forEach(e=>{const c=e.dataset.status,s=e.dataset.area,o=e.dataset.tech,a=activeFilters.status.includes("all")||activeFilters.status.includes(c),r=0===activeFilters.area.length||activeFilters.area.includes(s),i=0===activeFilters.tech.length||activeFilters.tech.some(e=>o&&o.toLowerCase().includes(e.toLowerCase()));a&&r&&i?(e.classList.remove("hidden","fade-out"),t++):(e.classList.add("fade-out"),setTimeout(()=>{e.classList.add("hidden")},300))}),updateProjectCounter(t,e.length),setTimeout(()=>{regenerateFiltersWithSelections()},350),document.getElementById("projects").classList.contains("active")&&updateURL("projects",!0)}function updateProjectCounter(e,t){const c=document.getElementById("visible-count"),s=document.getElementById("total-count");c&&s&&(c.textContent=e,s.textContent=t)}function sortProjects(e){const t=document.getElementById("projects-grid"),c=Array.from(t.children);c.sort((t,c)=>{switch(e){case"name-asc":return t.dataset.name.localeCompare(c.dataset.name);case"name-desc":return c.dataset.name.localeCompare(t.dataset.name);case"status":const e={completed:1,"in-progress":2,planned:3};return e[t.dataset.status]-e[c.dataset.status];default:return 0}}),c.forEach(e=>t.appendChild(e))}function serializeFiltersToURL(){const e=new URLSearchParams;return activeFilters.status.length>0&&!activeFilters.status.includes("all")&&e.set("status",activeFilters.status.join(",")),activeFilters.area.length>0&&e.set("area",activeFilters.area.join(",")),activeFilters.tech.length>0&&e.set("tech",activeFilters.tech.join(",")),"default"!==activeFilters.sort&&e.set("sort",activeFilters.sort),e.toString()}function parseFiltersFromURL(){const e=new URLSearchParams(window.location.search),t={status:["all"],area:[],tech:[],sort:"default"};return e.has("status")&&(t.status=e.get("status").split(",")),e.has("area")&&(t.area=e.get("area").split(",")),e.has("tech")&&(t.tech=e.get("tech").split(",")),e.has("sort")&&(t.sort=e.get("sort")),t}function handleSubmit(e){e.preventDefault();const t=document.getElementById("name").value,c=document.getElementById("email").value;document.getElementById("message").value,alert(`Thank you for your message, ${t}! I'll get back to you at ${c} soon.`),document.getElementById("name").value="",document.getElementById("email").value="",document.getElementById("message").value=""}function initSeamlessScroll(){document.querySelectorAll(".auto-cards-wrapper").forEach(e=>{const t=e.querySelectorAll(".auto-card"),c=[];t.forEach(e=>{const t=e.cloneNode(!0);c.push(t)}),c.forEach(t=>{e.appendChild(t)})})}function showSectionFromURL(e){document.querySelectorAll(".section").forEach(e=>{e.classList.remove("active")}),"home"!==e&&(hideProjectsPreview(),window.removeEventListener("scroll",handleScrollForPreview));const t=document.getElementById(e);if(t&&setTimeout(()=>{t.classList.add("active")},50),"projects"===e){const e=parseFiltersFromURL();activeFilters=e,setTimeout(()=>{document.getElementById("projects").classList.contains("active")&&applyFiltersFromState()},100)}"home"===e&&(setTimeout(triggerHeroAnimations,100),window.addEventListener("scroll",handleScrollForPreview)),updateNavState(e),closeMobileMenu(),window.scrollTo({top:0,behavior:"smooth"})}document.addEventListener("DOMContentLoaded",function(){document.body.classList.add("loading"),document.querySelectorAll("[data-section]").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),showSection(this.dataset.section)})}),document.querySelector(".logo").addEventListener("click",function(){showSection("home")}),function(){const e=document.querySelector(".tagline-rotator");if(!e)return;const t=e.querySelectorAll("span");let c=0;setInterval(()=>{t[c].classList.remove("active"),c=(c+1)%t.length,t[c].classList.add("active")},3e3)}(),initSeamlessScroll(),initSeamlessScroll(),document.getElementById("mobile-menu-btn").addEventListener("click",toggleMobileMenu),document.querySelectorAll(".footer-links [data-section]").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),showSection(this.dataset.section)})}),generateDynamicFilters(),generateDynamicFilters(),document.getElementById("filter-sidebar").addEventListener("click",function(e){e.stopPropagation()});const e=document.querySelectorAll("#projects-grid .project-card").length;updateProjectCounter(e,e),populateProjectsPreview();const t=window.location.hash.substring(1),c=t&&document.getElementById(t)?t:"home";"projects"===c&&(activeFilters=parseFiltersFromURL()),setTimeout(()=>{document.getElementById("loader").classList.add("hidden"),document.body.classList.remove("loading"),document.querySelectorAll(".section").forEach(e=>{e.classList.remove("active")});const e=document.getElementById(c);e&&(e.classList.add("active"),updateNavState(c),"projects"===c&&setTimeout(()=>{applyFiltersFromState()},200),"home"===c&&(setTimeout(triggerHeroAnimations,200),window.addEventListener("scroll",handleScrollForPreview)))},500),window.addEventListener("hashchange",function(){const e=window.location.hash.substring(1)||"home";document.getElementById(e)&&!document.getElementById(e).classList.contains("active")&&showSectionFromURL(e)})}),document.addEventListener("keydown",function(e){"Escape"===e.key&&(closeMobileMenu(),document.getElementById("filter-sidebar").classList.contains("active")&&toggleFilterSidebar())});